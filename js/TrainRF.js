// sequence of objects:
var forest = new Array(numIcons);
for (var i = 0; i < forest.length; i++) {
	forest[i] = new forestjs.RandomForest();
}

//training_data = [{"label":"stick","features":[0.5404195002705885,0.5404195002705658,0.5404195002705852,0.41663350869683896,0.3304459874084362,0.33044598740840825,0.3304459874084259,0.33044598740840825,0.3304459874084259,0.33044598740840825,0.3261139092061892,0.32175055439664,0.32175055439664,0.32175055439664,0.32175055439664,0.32175055439664,0.32175055439664,0.32175055439664,0.3172932070735027,0.28216728045954265,0.28216728045954853,0.28216728045953143,0.28216728045955974,0.28216728045953143,0.28216728045954853,0.28216728045953143,0.28216728045955974,0.28216728045953143,0.28216728045954853,0.28216728045954265,0.28216728045954853,0.26562057956806107,0.2566253910622671,0.2566253910622386,0.25662539106225546,0.2566253910622671,0.2566253910622386,0.25662539106225546,0.2566253910622671,0.2566253910622386,0.25662539106225546,0.2566253910622671,0.2566253910622386,0.25662539106225546,0.2566253910622671,0.2566253910622386,0.25662539106225546,0.2566253910622671,0.2502397932334195,0.24587311727115013,0.24587311727115013,0.24587311727115013,0.24587311727115013,0.24587311727115846,0.24587311727115846,0.24587311727115013,0.24587311727115013,0.24587311727115846,0.24498603329324686,0.2011268858165418,0.20112688581652927,0.2011268858165418,0.2011268858165418,0.20112688581652927,0.2011268858165418,0.2011268858165418,0.20112688581652927,0.2011268858165418,0.20112688581652927,0.2011268858165418,0.2011268858165418,0.20112688581652927,0.2011268858165418,0.2011268858165418,0.20112688581652927,0.2011268858165418,0.2011268858165418,0.20112688581652927,0.2011268858165418,0.2011268858165418,0.20112688581652927,0.2011268858165418,0.20112688581652927,0.2011268858165418,0.2011268858165418,0.2011268858165418,0.20112688581652927,0.21748028580378453,0.2514440902780173,0.25144409027800885,0.2514440902780173,0.2514440902780173,0.015845903703074704,8.881784197001252e-15,0,0.20036740946445175,0.32175055439664,0.19301974649535214,0.0767718912697759]}];
// training_data = [];

// Load the features and the labels from the training set and train the model
// d3.json("https://dl.dropboxusercontent.com/u/21780046/training_data.json", function(DATA) {
// 	// D is 2D array. Labels is 1D array of length D (should be N !!!)
// 	training_data = DATA;
// 	//trainIT(data);
// });


function trainIT(DATA){

	// features
	var features = _.map(DATA, function(d){return d.features;});

	// labels
	var lObjects = _.map(DATA, function(d){return d.label;});
	var labels

	for (var i = 0; i < forest.length; i++) {
		// train category 'obj'+String(i) vs the rest
		labels = _.map(lObjects,function(d){
			if (d == 'obj'+String(i)) {
				return 1;
			} else {
				return -1;
			};
		});
		forest[i].train(features, labels);
	}

}
